XCOMM Install test components in generally available place.
XCOMM $Id: Imakefile,v 1.43 2006/05/19 10:33:05 johani Exp $

MODULEDIR=/usr/local/share/python
FRAMEWORK_MODULES=batch.py comparetest.py default.py engine.py guiplugins.py knownbugs.py lsf.py performance.py plugins.py predict.py queuesystem.py respond.py sge.py testmodel.py testoverview.py texttestgui.py unixonly.py
CARMEN_MODULES=carmenqueuesystem.py ravebased.py dayopsgui.py optimization.py apc.py KPI.py matador.py studio.py fleet.py mpssolver.py
THIRD_PARTY_MODULES=HTMLgen.py HTMLcolors.py ImageH.py ImagePaletteH.py imgsize.py
THIRD_PARTY_CARMEN_MODULES=barchart.py
PYTHONVERSIONS=2.2 2.3 2.4
ALLDIRS=$(addprefix $(MODULEDIR)/, $(PYTHONVERSIONS))
ALLTARGETS=$(foreach ver, $(ALLDIRS), $(addprefix $(ver)/, $(FRAMEWORK_MODULES) $(CARMEN_MODULES) $(THIRD_PARTY_MODULES) $(THIRD_PARTY_CARMEN_MODULES)))

CarmFirstTarget()

install:: $(ALLTARGETS)
$(addsuffix /%, $(ALLDIRS)): %
	@set -xv; \
	for pv in $(PYTHONVERSIONS); \
	do  rm -f $(MODULEDIR)/$$pv/$<; \
	    cp $< $(MODULEDIR)/$$pv; \
	done

XCOMM There is no single macro which both removes the suffix and installs.
XCOMM Easiest to do by hand, as long as it is only one case.
install:: /usr/local/bin/texttest
/usr/local/bin/texttest: texttest.py
	cp $< $@

install:: /usr/local/bin/interpretcore.py
/usr/local/bin/interpretcore.py: interpretcore.py
	cp $< $@

