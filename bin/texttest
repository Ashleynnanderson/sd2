#!/bin/sh

abspath()
{
    case "$1" in
        
    /*)
        eval "$2=$1"
        ;;

    *)
        eval $2=`pwd`/$1
        ;;
    esac
}


abspath $0 fullpath

if [ -f "/etc/redhat-release" ]; then
    export TEXTTEST_SLAVE_CMD=$fullpath 


    if [ -f "/usr/local/tt-env/gtk2.10/bin/setup_python_gtk.sh" ]; then
        # Sets gtk/pygtk environmet variables and sets PYTHON_TO_RUN 
        # to point to the full name of the python binary to run.
        . /usr/local/tt-env/gtk2.10/bin/setup_python_gtk.sh
        exec ttpython -u ${fullpath}.py "$@"
    else
        exec python -u ${fullpath}.py "$@"
fi
else
    ARCH=`arch`
    PATH=/usr/local/bin/carmen/master/:$PATH
    export ARCH PATH
    
    exec python -u ${fullpath}.py "$@"
fi
